# 第四章 表达式

1. 在类型转换时，小整数类型（如bool、char、short等）通常会被提升成较大的整数类型，主要是int。

2.  左值和右值：

   一个简单的归纳：当一个对象被用作右值的时候，用的是对象的值（内容）；当对象被用作左值的时候，用的是对象的身份（在内存中的位置）。

   一个重要的原则：在需要右值的地方可以用左值来代替，但是不能把右值当成左值（也就是位置）使用。

   <img src="D:\GitHub\CppPrimer5th\第四章 表达式\pic\pic1.png" style="zoom: 67%;" />

3.  参与取余运算的运算对象必须是整型。

4.  短路求值：逻辑与运算符和逻辑或运算符都是先求左侧运算对象的值再求右侧运算对象的值，当且仅当左侧运算对象无法确定表达式的结果时才会计算右侧运算对象的值。

   很多情况下，左侧运算对象是为了确保右侧运算对象求值过程的正确性和安全性。如：

   ```cpp
   index!=s.size()&&!isspace(s[index])
   ```

5. 后置递增运算符的优先级高于解引用运算符，因此\*iter++等价于\*(iter++)

6.  <img src="D:\GitHub\CppPrimer5th\第四章 表达式\pic\pic2.png" style="zoom: 67%;" />

7.  <img src="D:\GitHub\CppPrimer5th\第四章 表达式\pic\pic3.png" style="zoom:80%;" />

8. 算术转换的规则定义了一套类型转换的层次，其中运算符的运算对象将转换成最宽的类型。 

   例如，如果一个运算对象的类型是long double，那么不论另外一个运算对象的类型是什么都会转换成long double。

9.  虽然有时不得不使用强制类型转换，但这种方法本质上是非常危险的。所以建议避免强制类型转换。